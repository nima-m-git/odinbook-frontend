{"version":3,"sources":["components/App/App.js","components/Login/Signup.js","components/Login/Login.js","imageBufferDataToString.js","components/HeaderNav/HeaderNav.js","components/Posts/PostForm.js","components/Posts/CommentBox.js","components/Posts/Post.js","components/Posts/PostIndex.js","components/Posts/PostPage.js","components/Users/UserCard.js","components/Users/UserIndex.js","components/Users/ChangeImage.js","components/Users/UserPage.js","index.js"],"names":["App","useState","loggedIn","setLoggedIn","useEffect","axios","defaults","baseURL","process","className","logout","path","exact","setHeaders","token","headers","common","Signup","closePopup","errors","setErrors","message","setMessage","firstName","lastName","email","password","confirmPassword","image","inputs","setInputs","handleChange","e","old","target","name","files","value","onSubmit","preventDefault","formData","FormData","input","append","post","then","result","data","setTimeout","catch","err","console","log","response","encType","src","alt","onClick","map","error","i","msg","type","onChange","placeholder","Login","setEmail","setPassword","setError","signupPopup","setSignupPopup","res","base64ToString","base64","HeaderNav","user","setUser","get","request","to","_id","fullName","width","height","require","default","PostForm","refresh","content","setContent","handleSubmit","a","rows","maxLength","CommentBox","postId","comment","setComment","cols","ExpandLikes","likes","like","Post","expandLikes","setExpandLikes","likePost","author","liked","onMouseEnter","onMouseLeave","length","comments","sort","b","dateAdded","PostIndex","posts","setPosts","getPosts","useCallback","key","PostPage","setPost","useParams","getPost","UserCard","respondRequest","requestResponse","put","status","undefined","userId","StatusBtn","friendsStatus","UserIndex","users","setUsers","getUsers","forEach","ChangeImage","exit","priorImage","setImage","remove","setRemove","UserPage","isCurrentUser","setIsCurrentUser","changeImage","setChangeImage","getUser","currentUser","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.3072630f.chunk.js","sourcesContent":["import { useEffect, useState } from \"react\";\nimport { Route, Switch } from \"react-router-dom\";\nimport axios from \"axios\";\n\nimport {\n  PostIndex,\n  Login,\n  HeaderNav,\n  UserIndex,\n  UserPage,\n  PostPage,\n} from \"../index\";\nimport \"./App.scss\";\n\nconst App = () => {\n  const [loggedIn, setLoggedIn] = useState(false);\n  // const [token, setToken] = useState(null);\n  // const [errors, setErrors] = useState(null);\n  // const [messages, setMessages] = useState(null);\n\n  const setHeaders = (token) => {\n    axios.defaults.headers.common[\"Authorization\"] = `Bearer ${token}`;\n    setLoggedIn(true);\n  };\n\n  useEffect(() => {\n    // axios.defaults.baseURL = process.env.REACT_APP_BE_URL;\n    axios.defaults.baseURL = process.env.REACT_APP_BE_URL;\n  }, []);\n\n  return (\n    <div className=\"app\">\n      {!loggedIn ? (\n        <Login {...{ setHeaders }} />\n      ) : (\n        <div>\n          <HeaderNav logout={() => setLoggedIn(false)} />\n          <div className=\"container\">\n            <Switch>\n              <Route path={[\"/\", \"/posts\"]} exact>\n                <PostIndex />\n              </Route>\n              <Route path=\"/posts/:postId\">\n                <PostPage />\n              </Route>\n              <Route path=\"/users\" exact>\n                <UserIndex />\n              </Route>\n              <Route path=\"/users/:userId\">\n                <UserPage />\n              </Route>\n            </Switch>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport { App };\n","import axios from \"axios\";\nimport { useState } from \"react\";\n\nconst Signup = ({ closePopup }) => {\n  const [errors, setErrors] = useState([]);\n  const [message, setMessage] = useState(null);\n  const [inputs, setInputs] = useState({\n    firstName: \"\",\n    lastName: \"\",\n    email: \"\",\n    password: \"\",\n    confirmPassword: \"\",\n    image: null,\n  });\n\n  const handleChange = (e) => {\n    setInputs((old) => ({\n      ...old,\n      [e.target.name]:\n        e.target.name === \"image\" ? e.target.files[0] : e.target.value,\n    }));\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    const formData = new FormData();\n    for (let input in inputs) {\n      formData.append([input], inputs[input]);\n    }\n\n    axios\n      .post(\"/signup\", formData, {})\n      .then((result) => {\n        setMessage(result?.data.message);\n\n        // rm conditional?\n        if (result?.errors) {\n          setErrors([...result?.errors]);\n        } else {\n          setErrors([]);\n          setTimeout(() => closePopup(), 1000);\n        }\n      })\n      .catch((err) => {\n        console.log(err.response.data.err || err.response);\n        setErrors([...err.response?.data?.errors] || err.response);\n      });\n  };\n\n  return (\n    <form\n      className=\"signup-form\"\n      onSubmit={handleSubmit}\n      encType=\"multipart/form-data\"\n    >\n      <h2 className=\"form-title\">Signup</h2>\n      <img\n        className=\"exit-btn\"\n        src=\"https://static.xx.fbcdn.net/rsrc.php/v3/yX/r/TdCEremeWv5.png\"\n        alt=\"\"\n        onClick={closePopup}\n      />\n      {errors.map((error, i) => (\n        <div className=\"error\" key={i}>\n          - {error.msg}\n        </div>\n      ))}\n      {message && <div className=\"message\">{message}</div>}\n      <div className=\"line\" />\n      <label>\n        <input\n          type=\"text\"\n          name=\"firstName\"\n          value={inputs.firstName}\n          onChange={handleChange}\n          placeholder=\"First Name\"\n        />\n      </label>\n      <label>\n        <input\n          type=\"text\"\n          name=\"lastName\"\n          value={inputs.lastName}\n          onChange={handleChange}\n          placeholder=\"Last Name\"\n        />\n      </label>\n      <label>\n        <input\n          type=\"email\"\n          name=\"email\"\n          value={inputs.email}\n          onChange={handleChange}\n          placeholder=\"Email\"\n        />\n      </label>\n      <label>\n        <input\n          type=\"password\"\n          name=\"password\"\n          value={inputs.password}\n          onChange={handleChange}\n          placeholder=\"Password\"\n        />\n      </label>\n      <label>\n        <input\n          type=\"password\"\n          name=\"confirmPassword\"\n          value={inputs.confirmPassword}\n          onChange={handleChange}\n          placeholder=\"Confirm Password\"\n        />\n      </label>\n      <label>\n        Profile Picture\n        <input type=\"file\" name=\"image\" onChange={handleChange}></input>\n      </label>\n      <button type=\"submit\" className=\"signup-btn\">\n        Sign Up\n      </button>\n    </form>\n  );\n};\n\nexport { Signup };\n","import axios from \"axios\";\nimport { useState } from \"react\";\n\nimport \"./Login.scss\";\nimport { Signup } from \"./Signup\";\n\nconst Login = ({ setHeaders }) => {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [error, setError] = useState(null);\n  const [signupPopup, setSignupPopup] = useState(false);\n\n  const checkCredentials = (e) => {\n    e.preventDefault();\n    axios\n      .post(\"/login\", {\n        email,\n        password,\n      })\n      .then((res) => {\n        setError(res?.data?.message);\n        const token = res?.data?.token;\n        if (!!token) setHeaders(token);\n      })\n      .catch((err) => console.log(err.response || err));\n  };\n\n  return (\n    <div className=\"login\">\n      <header>Nimabook</header>\n      {signupPopup ? (\n        <Signup closePopup={() => setSignupPopup(false)} />\n      ) : (\n        <form className=\"login-form\" onSubmit={checkCredentials}>\n          {error && <div className=\"error\">- {error}</div>}\n          <label>\n            <input\n              type=\"email\"\n              name=\"email\"\n              value={email}\n              onChange={(e) => setEmail(e.target.value)}\n              placeholder=\"Email\"\n            />\n          </label>\n          <label>\n            <input\n              type=\"password\"\n              name=\"password\"\n              value={password}\n              onChange={(e) => setPassword(e.target.value)}\n              placeholder=\"Password\"\n            />\n          </label>\n          <button className=\"submit-btn\">Log In</button>\n          <div className=\"line\" />\n          <button\n            type=\"button\"\n            className=\"signup-btn\"\n            onClick={() => setSignupPopup(true)}\n          >\n            Sign Up\n          </button>\n        </form>\n      )}\n    </div>\n  );\n};\n\nexport { Login };\n","const arrayBufferToBase64 = (buffer) => {\n  let binary = \"\";\n  const bytes = [].slice.call(new Uint8Array(buffer));\n  bytes.forEach((b) => (binary += String.fromCharCode(b)));\n  return window.btoa(binary);\n};\n\nconst imageBufferDataToString = (data) =>\n  `data:image/jpeg;base64,${arrayBufferToBase64(data)}`;\n\nconst base64ToString = (base64) => `data:image/jpeg;base64,${base64}`;\n\nexport { imageBufferDataToString, base64ToString };\n","import axios from \"axios\";\nimport { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport \"./HeaderNav.scss\";\n\nimport { base64ToString } from \"../../imageBufferDataToString\";\n\nconst HeaderNav = ({ logout }) => {\n  const [user, setUser] = useState(true);\n\n  useEffect(() => {\n    axios\n      .get(\"/users/me\")\n      .then((res) => {\n        const user = res.data.user;\n\n        // set image if received\n        if (user?.image) {\n          user.image = base64ToString(user.image.image.data);\n        }\n\n        setUser(user);\n      })\n      .catch((err) => console.log(err?.response?.data?.err || err.request));\n  }, []);\n\n  return (\n    <header className=\"header\">\n      <Link to=\"/\">\n        <header>\n          <h1 className=\"logo\">Nimabook</h1>\n        </header>\n      </Link>\n      <nav className=\"navbar\">\n        <Link className=\"link\" to=\"/users\">\n          Users\n        </Link>\n        <Link className=\"link\" to={`/users/${user._id}`}>\n          {user?.image && (\n            <div className=\"profilePic\">\n              <div className=\"usersName\">{user.fullName}</div>\n              <img\n                src={user?.image || \"/empty_profile.png\"}\n                alt=\"profile pic\"\n                width=\"50\"\n                height=\"50\"\n              ></img>\n            </div>\n          )}\n        </Link>\n        <div className=\"link\" onClick={logout}>\n          Logout\n        </div>\n      </nav>\n    </header>\n  );\n};\n\nexport { HeaderNav };\n","const { default: axios } = require(\"axios\");\nconst { useState } = require(\"react/cjs/react.development\");\n\nconst PostForm = ({ refresh }) => {\n  const [content, setContent] = useState(\"\");\n  const [error, setError] = useState(null);\n  const [message, setMessage] = useState(null);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    await axios\n      .post(`/posts/`, {\n        content: content,\n      })\n      .then((res) => setMessage(res.data.msg))\n      .catch((err) => setError(err.response.data.err));\n\n    setContent(\"\");\n    refresh();\n  };\n\n  return (\n    <form className=\"postForm\" onSubmit={handleSubmit}>\n      <label>\n        <textarea\n          onChange={(e) => setContent(e.target.value)}\n          value={content}\n          rows={2}\n          maxLength={500}\n          placeholder=\"Whats on your mind?\"\n        />\n      </label>\n      <button className=\"submit-btn\">Submit</button>\n      {message && <div className=\"message\">{message}</div>}\n      {error && <div className=\"error\">{error}</div>}\n    </form>\n  );\n};\n\nexport { PostForm };\n","import axios from \"axios\";\nimport { useState } from \"react\";\n\nconst CommentBox = ({ postId, refresh }) => {\n  const [comment, setComment] = useState(\"\");\n  const [errors, setErrors] = useState([]);\n\n  const handleResult = (result) => {\n    setErrors(\n      result?.errors\n        ? result.errors.map((err) => err.msg)\n        : result?.err\n        ? [result.err]\n        : []\n    );\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    await axios\n      .post(`/posts/${postId}`, {\n        content: comment,\n      })\n      .then((res) => handleResult(res))\n      .catch((err) => setErrors([...errors, err.response.data.err]));\n\n    setComment(\"\");\n    refresh();\n  };\n\n  return (\n    <form className=\"comment-box\" onSubmit={handleSubmit}>\n      <label>\n        Reply:\n        <textarea\n          onChange={(e) => setComment(e.target.value)}\n          value={comment}\n          rows={1}\n          cols={40}\n          maxLength={300}\n        />\n      </label>\n      <button className=\"submit-btn\">Submit</button>\n      {errors && errors.map((error) => <div className=\"error\">{error}</div>)}\n    </form>\n  );\n};\n\nexport { CommentBox };\n","import axios from \"axios\";\nimport { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { CommentBox } from \"./CommentBox\";\n\nimport { base64ToString } from \"../../imageBufferDataToString\";\n\nconst ExpandLikes = ({ post }) => (\n  <div className=\"expanded-likes\">\n    {post?.likes.map((like, i) => (\n      <li key={i}>{like.fullName}</li>\n    ))}\n  </div>\n);\n\nconst Post = ({ refresh, post }) => {\n  const [expandLikes, setExpandLikes] = useState(false);\n\n  const likePost = async (e) => {\n    e.preventDefault();\n    try {\n      await axios\n        .post(`/posts/${post._id}/like`)\n        .then((res) => console.log(res.data.msg));\n      refresh();\n    } catch (err) {\n      console.log(err.response);\n    }\n  };\n\n  return (\n    <div className=\"post\">\n      <div className=\"post-info\">\n        <Link to={`/users/${post.author._id}`}>\n          <div className=\"profilePic\">\n            <div className=\"author\">{post.author.fullName}</div>\n            {post.author?.image && (\n              <img\n                src={\n                  base64ToString(post.author.image) ||\n                  \"https://fertilitynetworkuk.org/wp-content/uploads/2017/01/Facebook-no-profile-picture-icon-620x389.jpg\"\n                }\n                alt=\"profile pic\"\n                width=\"50\"\n              ></img>\n            )}\n          </div>\n        </Link>\n\n        <p className=\"content\">{post.content}</p>\n        <div className=\"flex-bar\">\n          <button className=\"like\" onClick={likePost}>\n            {!!post.liked ? \"unlike\" : \"like\"}\n          </button>\n\n          <div className=\"likes\">\n            <button\n              className=\"number-likes\"\n              onMouseEnter={() => setExpandLikes(true)}\n              onMouseLeave={() => setExpandLikes(false)}\n            >\n              Likes ({post?.likes?.length || \"0\"})\n            </button>\n            {expandLikes && <ExpandLikes {...{ post }} />}\n          </div>\n        </div>\n      </div>\n      <div className=\"comments\">\n        <CommentBox {...{ refresh }} postId={post._id} />\n        {post.comments &&\n          [...post.comments]\n            .sort((a, b) => (a.dateAdded > b.dateAdded ? 1 : -1))\n            .map((comment) => {\n              return (\n                <div className=\"comment\" key={comment._id}>\n                  <div className=\"author\">{comment?.author?.fullName}</div>\n                  <p className=\"content\">{comment.content}</p>\n                </div>\n              );\n            })}\n      </div>\n    </div>\n  );\n};\n\nexport { Post };\n","import axios from \"axios\";\nimport { useCallback, useEffect, useState } from \"react\";\n\nimport { PostForm } from \"./PostForm\";\nimport { Post } from \"./Post\";\nimport \"./Posts.scss\";\n\nconst PostIndex = () => {\n  const [posts, setPosts] = useState([]);\n  const [error, setError] = useState(null);\n\n  const getPosts = useCallback(() => {\n    axios\n      .get(\"/posts\")\n      .then((res) => {\n        setPosts(res.data.posts);\n        setError(res?.data.err);\n      })\n      .catch((err) => setError(err));\n  }, []);\n\n  useEffect(() => {\n    getPosts();\n  }, [getPosts]);\n\n  return (\n    <div className=\"posts-container\">\n      {error && <div className=\"error\">{error}</div>}\n      <PostForm refresh={getPosts} />\n      {posts.map((post) => {\n        return <Post {...{ post }} refresh={getPosts} key={post._id} />;\n      })}\n    </div>\n  );\n};\n\nexport { PostIndex };\n","import axios from \"axios\";\nimport { useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { useState } from \"react/cjs/react.development\";\n\nimport { Post } from \"./Post\";\nimport \"./Posts.scss\";\n\nconst PostPage = () => {\n  const [post, setPost] = useState();\n  const [error, setError] = useState(null);\n  const { postId } = useParams();\n\n  const getPost = () => {\n    axios\n      .get(`/posts/${postId}`)\n      .then((res) => {\n        setPost(res.post);\n        setError(res?.err);\n      })\n      .catch((err) => setError(err));\n  };\n\n  useEffect(() => {\n    getPost();\n  });\n\n  return (\n    <div className=\"post-container\">\n      {error && <div className=\"error\">{error}</div>}\n      {post.map((post) => (\n        <Post {...{ post }} refresh={getPost} />\n      ))}\n    </div>\n  );\n};\n\nexport { PostPage };\n","import axios from \"axios\";\nimport { Link } from \"react-router-dom\";\nimport { useState } from \"react\";\n\nimport \"./Users.scss\";\n\nconst UserCard = ({ user }) => {\n  const [message, setMessage] = useState(null);\n  const [error, setError] = useState(null);\n\n  const addFriend = (userId) => {\n    axios\n      .post(`/users/requests/${userId}`)\n      .then((res) => {\n        setMessage(res?.data?.msg);\n      })\n      .catch((err) => {\n        setError(err.response.data.msg);\n        console.log(err.response);\n      });\n  };\n\n  const respondRequest = (requestResponse) => {\n    axios\n      .put(`/users/requests/${user._id}`, {\n        requestResponse,\n      })\n      .then((res) => {\n        setMessage(res?.data.msg);\n      })\n      .catch((err) => {\n        setError(err.response.data.msg);\n        console.log(err.response);\n      });\n  };\n\n  const StatusBtn = (status) => {\n    switch (status) {\n      // allow request after denied, for the moment\n      case \"denied\":\n      case undefined:\n        return (\n          <button\n            type=\"button\"\n            className=\"addFriend-status\"\n            onClick={() => addFriend(user._id)}\n          >\n            Add Friend\n          </button>\n        );\n      case \"received\":\n        return (\n          <div className=\"respondFriend-status\">\n            <button\n              type=\"button\"\n              className=\"confirmFriend-status\"\n              onClick={() => respondRequest(\"accepted\")}\n            >\n              Confirm\n            </button>\n            <button\n              type=\"button\"\n              className=\"rejectFriend-status\"\n              onClick={() => respondRequest(\"denied\")}\n            >\n              Reject\n            </button>\n          </div>\n        );\n      case \"accepted\":\n        return (\n          <button type=\"button\" className=\"friends-status\">\n            Friends\n          </button>\n        );\n      case \"pending\":\n        return (\n          <button type=\"button\" className=\"pending-status\">\n            Pending..\n          </button>\n        );\n      default:\n        return <button type=\"button\" className=\"no-status\"></button>;\n    }\n  };\n\n  return (\n    <div className=\"user-card\">\n      {message && <div className=\"message\">{message}</div>}\n      {error && <div className=\"error\">{error}</div>}\n\n      <div className=\"profilePic\">\n        <img\n          src={user?.image || \"/empty_profile.png\"}\n          alt=\"profile pic\"\n          height={50}\n          width={50}\n        />\n      </div>\n      <div className=\"profileInfo\">\n        <Link to={`/users/${user._id}`}>\n          <div className=\"name\">{user?.fullName}</div>\n        </Link>\n        <div className=\"status\">{StatusBtn(user.friendsStatus)}</div>\n        <br></br>\n      </div>\n    </div>\n  );\n};\n\nexport { UserCard };\n","import axios from \"axios\";\nimport { useCallback, useEffect, useState } from \"react\";\n\nimport { UserCard } from \"./UserCard\";\n\n// change to rel path\nimport { base64ToString } from \"../../imageBufferDataToString\";\n\nconst UserIndex = () => {\n  const [users, setUsers] = useState([]);\n  const [error, setError] = useState(null);\n\n  const getUsers = useCallback(() => {\n    axios\n      .get(\"/users\")\n      .then((res) => {\n        //   set image if received\n        res.data.users.forEach((user) => {\n          if (user?.image) {\n            user.image = base64ToString(user.image.image.data);\n          }\n        });\n\n        setUsers(res.data.users);\n        setError(res?.data.err);\n      })\n      .catch((err) => setError(err?.response?.data?.err || err?.response));\n  }, []);\n\n  useEffect(() => {\n    getUsers();\n  }, [getUsers]);\n\n  return (\n    <div className=\"users-container\">\n      {error && <div className=\"error\">{error}</div>}\n      {users &&\n        users.map((user) => (\n          <UserCard {...{ user }} refresh={getUsers} key={user._id} />\n        ))}\n    </div>\n  );\n};\n\nexport { UserIndex };\n","const { default: axios } = require(\"axios\");\nconst { useState } = require(\"react\");\n\nconst ChangeImage = ({ exit, refresh, priorImage }) => {\n  const [image, setImage] = useState(null);\n  const [remove, setRemove] = useState(false);\n  const [message, setMessage] = useState(\"\");\n  const [error, setError] = useState(null);\n\n  const handleChange = (e) => setImage(e.target.files[0]);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    const formData = new FormData();\n    if (image) formData.append(\"image\", image);\n    if (remove) formData.append(\"remove-image\", true);\n\n    axios\n      .put(\"/users/update_image\", formData, {})\n      .then((res) => {\n        setMessage(res.data?.msg);\n\n        exit();\n        refresh();\n      })\n      .catch((err) => {\n        console.log(err.response);\n        setError(err.response?.data?.err || err.response);\n      });\n  };\n\n  return (\n    <form\n      className=\"updateImage\"\n      onSubmit={handleSubmit}\n      encType=\"multipart/form-data\"\n    >\n      {message && <div className=\"message\">{message}</div>}\n      {error && <div className=\"error\">{error}</div>}\n      <label>\n        Profile Picture\n        <input type=\"file\" name=\"image\" onChange={handleChange}></input>\n      </label>\n      {priorImage && (\n        <button type=\"submit\" onClick={() => setRemove(true)}>\n          Remove Current Image\n        </button>\n      )}\n\n      <button type=\"submit\">Submit</button>\n    </form>\n  );\n};\n\nexport { ChangeImage };\n","import axios from \"axios\";\nimport { useCallback, useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\n\nimport { Post } from \"../index\";\nimport { ChangeImage } from \"./ChangeImage\";\n\n// change to rel path\nimport { base64ToString } from \"../../imageBufferDataToString\";\n\nconst UserPage = () => {\n  const { userId } = useParams();\n  const [user, setUser] = useState(null);\n  const [error, setError] = useState(null);\n  const [isCurrentUser, setIsCurrentUser] = useState(false);\n  const [changeImage, setChangeImage] = useState(false);\n\n  const getUser = useCallback(async () => {\n    try {\n      const user = (await axios.get(`/users/${userId}`)).data.user;\n      //  set image if received\n      if (user?.image) {\n        user.image = base64ToString(user.image.image.data);\n      }\n\n      const currentUser = (await axios.get(`/users/me`)).data.user;\n      // set if current user\n      setIsCurrentUser(currentUser._id === user._id);\n      setUser(user);\n    } catch (err) {\n      setError(err.response?.data?.err || err.response);\n    }\n  }, [userId]);\n\n  useEffect(() => getUser(), [getUser]);\n\n  return (\n    <div className=\"userPage\">\n      {isCurrentUser && changeImage && (\n        <ChangeImage\n          exit={() => setChangeImage(false)}\n          refresh={getUser}\n          priorImage={!!user.image}\n        />\n      )}\n      {error && <div className=\"error\">{error}</div>}\n      {user && (\n        <div>\n          <div className=\"profilePic\" onClick={() => setChangeImage(true)}>\n            <img\n              src={user?.image || \"/empty_profile.png\"}\n              alt=\"profile pic\"\n              width=\"80\"\n            ></img>\n          </div>\n          <div className=\"fullName\">{user.fullName}</div>\n          <div className=\"posts-container\">\n            {user.posts.length > 0 ? (\n              user.posts.map((post) => (\n                <Post {...{ post }} refresh={getUser} key={post._id} />\n              ))\n            ) : (\n              <p>No posts to show</p>\n            )}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport { UserPage };\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter } from \"react-router-dom\";\n\nimport \"./index.scss\";\nimport { App } from \"./components/index\";\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}